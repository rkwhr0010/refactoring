<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
</head>

<body>

<script>
var users = [
    { id: 1, name: 'ID', age: 36 },
    { id: 2, name: 'BJ', age: 32 },
    { id: 3, name: 'JM', age: 32 },
    { id: 4, name: 'PJ', age: 27 },
    { id: 5, name: 'HA', age: 25 },
    { id: 6, name: 'JE', age: 26 },
    { id: 7, name: 'JI', age: 31 },
    { id: 8, name: 'MP', age: 23 }
];
/*기존 명령형 프로그래밍*/
//나이가 26세이상인
var temp_users = [];
for (let i = 0; i < users.length; i++) {
  if(users[i].age>=26){
    temp_users.push(users[i]);
  }
} 
console.log(temp_users);
//ID가 5이상
temp_users = [];
for (let i = 0; i < users.length; i++) {
  if(users[i].id>=5){
    temp_users.push(users[i]);
  }
} 
console.log(temp_users);
/*거의 모든 코드가 중복 if쪽 로직만 다름*/

const _ = function(){
  return {
    filter : filter  ,
    map : map  ,
  };
  //응용형 함수, 고차함수 함수가 함수 인자로 받거나 함수를 리턴하거나, 변수에 담을 수 있는 함수
  function filter(list, predi){
    //함수형은 원래 값을 변형하지 않고 새로운 값을 리턴한다.
    const newList = [];
    for(arg of list){
      if(predi(arg)) newList.push(arg)
    }
    return newList;
  }
  function map(list, mapper){
    const newList = [];
    for(arg of list){
      newList.push(mapper(arg));
    }
    return newList;
  }
}();
var result = _.filter(users,u=>u.age>=30);
console.log(result);
console.log(_.map(users, u=>u.name));




</script>

</body>

</html>